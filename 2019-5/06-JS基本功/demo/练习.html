<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<script>
	//熟悉DOM事件触发机制
	//1.鼠标经过a隐藏显示div
	window.onload =function(){
		var a = document.getElementsByTagName('a')[0];
		var div = document.getElementsByTagName('div')[0];
		function fn1(){
			div.className = "erweima show";
			div.className = div.clsaaName.replace('hide','show');
		}
		function fn2(){
			div.claaaName = 'erweima hide';
			div.className = div.className.repalce('show','hide');
		}
	}

	//2.禁用文本框（input）更改文本框的属性值（或者移除属性）
	var btn1 =document.getElementById('press');
	var btn2 = document.getElementById('restart');
	btn1.onclick =function(){
		input.disabled = 'no';
	}
	btn2.onclick = function(){
		input.disabled = false;
		input.removeAttribute('disabled');
	}
	//3.文本框获得焦点移除文字，失去焦点显示文字（样式改变）
	var input1 = document,getElementById('inputtext');
	input1.onfocus = function() {
		if(this.value === 'hello'){
			input1.style.color = 'red';
			input1.value = '';
		}
	}
	input.onblur = function() {
		if(this.value === ''){
			input1.style.color = "#ccc";
			input.value = "hello";
		}
	}
	//4.密码框长度验证
	//html中input标签内部调用function时，先通过window调用的函数function，打印this就是打印window。只有传入参数是this才指的是标签本身。
	//如果不同按钮触发不同的事件，执行不同的程序，直接在最后使用事件触发三步走。如果不同的程序触发类似的事件，只是传入的参数不同，可以写一个程序，在html标签中调用onclick触发函数执行。
	var btn1 = document.getElementById('press');
	var btn2 = document.getElementById('enter');
	var btn3 = document.getElementById('submit');
	btn3.onclick = function(){
		if(btn1.value.length > 6 && btn2.value.length > 12){
			btn3.className = 'right';
		} else {
			btn3.className = 'wrong';
			alert("your input is wrong");
		}
	}
	//5.点击按钮选中不同类型选项，改变属性或者增减类
	var btn1 = document.getElementById('btn1');
	var btn2 = document.getElementById('btn2');
	var select = document.getElementById('selectfruit');
	var options = document.getElementsByTagName('option');
	btn1.onclick = function(){
		option[2].selected = true;
	}
	btn2.onclick = function(){
		option[2].selected = false;
		option[3].selected = true;
	}
	//6.循环赋值并提取
	var input1 = document.getElementById('input1');
	var btn = document.getElementsByTagName('button');
	btn[0].onclick = function(){
		for(var i = 1; i <input1.length; i ++){
			input1[i].value =i;
		}
	}
	btn[1].onclick = function(){
		var newArr = [];
		for(var j = 0 ; j<input1.length ;j++){
			newArr.push(input1[j].value);
		}
		console.log(newArr.join('>'));
	}
	//7.菜单全选或者反选
	var topinput = document.getElementById('theadinput');
	var tbody = document.getElementById('tbody');
	var bottominput = tbody.getElementsByTagName('input');

	// 绑定事件
	topinput.onclick = function(){
		if(topinput.checked){
			for(var i=0;i<bottominput.length;i++){
				bottominput[i].checked = true;
			}
		}else {
			for(var i=0;i<bottominput.length;i++){
				bottominput[i].checked = false;
		}
	}

	//优化代码
	for(var j=0;j<bottominput.length;j++){
		bottominput[j].checked = this.checked;
	}

	//进一步优化,下面全选上面也选中
	for(var i = 0 ; i <bottominput.length;i++){
		bottominput[i].onclick = function(){
			var bool = true;
			for(var j = 0 ; j < bottominput.length;j++){
				if(bottominput[j].checked == false){
					bool = false;
				}
			}
			topinput.checked = bool;
		}
	}

	//8.对象属性的操作
	var div = document.getElementById("box");
	div.aa = '1';
	console.log(div.aa);
	div.setAttribute('bb','2');
	console.log(div.getAttribute('bb'));
	//使用点语法增加属性，属性不会出现在标签上，使用setAttributr getAttribute removeAttribute 这三个代码属性会出现在标签上（标准做法）。
	//
	//10.鼠标经过对象改变样式（增加类）
	var btnArray = document.getElementById('button1');
	for(var i = 1; i <btnArray.length;i ++){
		btnArray[i].onmouseover = function(){
			for(var j =0 ; j<btnArray.length;j++){
				btnArray[j].className='';
			}
			this.className = 'current';
			//改变样式
		}
	}

	//12 TAB栏切换 复杂版
	var boxArr = document.getElementByClassName('box');
	for(var i = 0; i <boxArr.length; i ++){
		fn(boxArr[i]);
	}
	
	//函数封装
	function fn(ele){
		var liArr = ele.getElementsByTagName('li');
		var spanArr = ele.getElementsByTagName('span');
		for(var i = 0; i <liArr.length;i++){
			liArr[i].setAttribute('index',i);
			liArr[i].onmouseover=function(){
				for(var j= 0 ; j <liArr.length ; j++){
					liArr[j].removeAttribute('class');
					spanArr[j].removeAttribute('class');
				}
				this.setAttribute("class",'current');
				spanArr[this.getAttribute('index')].setAttribute('class','show');
			}
		}
	}

	//13 TAB切换改进版
	var boxArr = document.getElementByClassName('box');
	for(var i = 0; i <boxArr.length; i ++){
		fn(boxArr[i]);
	}
	function fn(ele){
		var liArr = ele.getElementsByTagName('li');
		var spanArr = ele.getElementsByTagName('span');
		for(var i=0;i<liArr.length;i++){
			liArr[i].index = i;
			liArr[i].onmouseover=function(){
				for(var j=0;j<liArr.length;j++){
					liArr[j].className = '';
					spanArr[j].className='';
				}
				this.className = 'current';
				spanArr[this.index].className='show';
			}
		}
	}
</script>
</body>
</html>